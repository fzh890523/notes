<!DOCTYPE html>
<html class='v2' dir='ltr' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'>
<head>
<link href='https://www.blogger.com/static/v1/widgets/3213516723-css_bundle_v2.css' rel='stylesheet' type='text/css'/>
<meta content='IE=EmulateIE7' http-equiv='X-UA-Compatible'/>
<meta content='width=1100' name='viewport'/>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>
<meta content='blogger' name='generator'/>
<link href='http://psy-lob-saw.blogspot.co.za/favicon.ico' rel='icon' type='image/x-icon'/>
<link href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html' rel='canonical'/>
<link rel="alternate" type="application/atom+xml" title="Psychosomatic, Lobotomy, Saw - Atom" href="http://psy-lob-saw.blogspot.com/feeds/posts/default" />
<link rel="alternate" type="application/rss+xml" title="Psychosomatic, Lobotomy, Saw - RSS" href="http://psy-lob-saw.blogspot.com/feeds/posts/default?alt=rss" />
<link rel="service.post" type="application/atom+xml" title="Psychosomatic, Lobotomy, Saw - Atom" href="https://www.blogger.com/feeds/5171098727364395242/posts/default" />

<link rel="alternate" type="application/atom+xml" title="Psychosomatic, Lobotomy, Saw - Atom" href="http://psy-lob-saw.blogspot.com/feeds/708670203714644669/comments/default" />
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/771816573-ieretrofit.js"></script>
<![endif]-->
<link href='https://2.bp.blogspot.com/-CUPihCsd5uY/UTe_no1yEmI/AAAAAAAAAGg/6f_UkUvj_tY/s1600/sad-panda.jpg' rel='image_src'/>
<link href='https://plus.google.com/107269247235043577368' rel='publisher'/>
<meta content='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html' property='og:url'/>
<meta content='Why (Most) Sampling Java Profilers Are Fucking Terrible ' property='og:title'/>
<meta content='Blog on Java, Performance, Concurrency, NIO, Unsafe, Low latency, Programming, Software, Philosophy' property='og:description'/>
<meta content='https://2.bp.blogspot.com/-CUPihCsd5uY/UTe_no1yEmI/AAAAAAAAAGg/6f_UkUvj_tY/w1200-h630-p-k-no-nu/sad-panda.jpg' property='og:image'/>
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>Psychosomatic, Lobotomy, Saw: Why (Most) Sampling Java Profilers Are Fucking Terrible </title>
<style type='text/css'>@font-face{font-family:'Permanent Marker';font-style:normal;font-weight:400;src:local('Permanent Marker Regular'),local('PermanentMarker-Regular'),url(//fonts.gstatic.com/s/permanentmarker/v7/9vYsg5VgPHKK8SXYbf3sMrg27BfaRSB61e9iDGqjWqk.ttf)format('truetype');}@font-face{font-family:'Inconsolata';font-style:normal;font-weight:400;src:local('Inconsolata Regular'),local('Inconsolata-Regular'),url(//fonts.gstatic.com/s/inconsolata/v16/BjAYBlHtW3CJxDcjzrnZCJ0EAVxt0G0biEntp43Qt6E.ttf)format('truetype');}</style>
<style id='page-skin-1' type='text/css'><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Simple
Designer: Blogger
URL:      www.blogger.com
----------------------------------------------- */

/* Content
----------------------------------------------- */
body {
font: normal normal 12px Verdana, Geneva, sans-serif;
color: #222222;
background: #eeaa00 none repeat scroll top left;
padding: 0 40px 40px 40px;
}
html body .region-inner {
min-width: 0;
max-width: 100%;
width: auto;
}
h2 {
font-size: 22px;
}
a:link {
text-decoration:none;
color: #ff9900;
}
a:visited {
text-decoration:none;
color: #cc6611;
}
a:hover {
text-decoration:underline;
color: #eeaa00;
}
.body-fauxcolumn-outer .fauxcolumn-inner {
background: transparent url(//www.blogblog.com/1kt/simple/body_gradient_tile_light.png) repeat scroll top left;
_background-image: none;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 400px;
width: 100%;
}
.body-fauxcolumn-outer .cap-top .cap-left {
width: 100%;
background: transparent url(//www.blogblog.com/1kt/simple/gradients_light.png) repeat-x scroll top left;
_background-image: none;
}
.content-outer {
-moz-box-shadow: 0 0 40px rgba(0, 0, 0, .15);
-webkit-box-shadow: 0 0 5px rgba(0, 0, 0, .15);
-goog-ms-box-shadow: 0 0 10px #333333;
box-shadow: 0 0 40px rgba(0, 0, 0, .15);
margin-bottom: 1px;
}
.content-inner {
padding: 10px 10px;
}
.content-inner {
background-color: #ffffff;
}
/* Header
----------------------------------------------- */
.header-outer {
background: #cc6611 url(//www.blogblog.com/1kt/simple/gradients_light.png) repeat-x scroll 0 -400px;
_background-image: none;
}
.Header h1 {
font: normal normal 40px Permanent Marker;
color: #ffffff;
text-shadow: 1px 2px 3px rgba(0, 0, 0, .2);
}
.Header h1 a {
color: #ffffff;
}
.Header .description {
font-size: 140%;
color: #ffffff;
}
.header-inner .Header .titlewrapper {
padding: 22px 30px;
}
.header-inner .Header .descriptionwrapper {
padding: 0 30px;
}
/* Tabs
----------------------------------------------- */
.tabs-inner .section:first-child {
border-top: 0 solid #eeeeee;
}
.tabs-inner .section:first-child ul {
margin-top: -0;
border-top: 0 solid #eeeeee;
border-left: 0 solid #eeeeee;
border-right: 0 solid #eeeeee;
}
.tabs-inner .widget ul {
background: #f5f5f5 url(//www.blogblog.com/1kt/simple/gradients_light.png) repeat-x scroll 0 -800px;
_background-image: none;
border-bottom: 1px solid #eeeeee;
margin-top: 0;
margin-left: -30px;
margin-right: -30px;
}
.tabs-inner .widget li a {
display: inline-block;
padding: .6em 1em;
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #999999;
border-left: 1px solid #ffffff;
border-right: 1px solid #eeeeee;
}
.tabs-inner .widget li:first-child a {
border-left: none;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
color: #000000;
background-color: #eeeeee;
text-decoration: none;
}
/* Columns
----------------------------------------------- */
.main-outer {
border-top: 0 solid #eeeeee;
}
.fauxcolumn-left-outer .fauxcolumn-inner {
border-right: 1px solid #eeeeee;
}
.fauxcolumn-right-outer .fauxcolumn-inner {
border-left: 1px solid #eeeeee;
}
/* Headings
----------------------------------------------- */
div.widget > h2,
div.widget h2.title {
margin: 0 0 1em 0;
font: normal bold 12px Verdana, Geneva, sans-serif;
color: #000000;
}
/* Widgets
----------------------------------------------- */
.widget .zippy {
color: #999999;
text-shadow: 2px 2px 1px rgba(0, 0, 0, .1);
}
.widget .popular-posts ul {
list-style: none;
}
/* Posts
----------------------------------------------- */
h2.date-header {
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
}
.date-header span {
background-color: transparent;
color: #222222;
padding: inherit;
letter-spacing: inherit;
margin: inherit;
}
.main-inner {
padding-top: 30px;
padding-bottom: 30px;
}
.main-inner .column-center-inner {
padding: 0 15px;
}
.main-inner .column-center-inner .section {
margin: 0 15px;
}
.post {
margin: 0 0 25px 0;
}
h3.post-title, .comments h4 {
font: italic bold 20px Inconsolata;
margin: .75em 0 0;
}
.post-body {
font-size: 110%;
line-height: 1.4;
position: relative;
}
.post-body img, .post-body .tr-caption-container, .Profile img, .Image img,
.BlogList .item-thumbnail img {
padding: 2px;
background: #ffffff;
border: 1px solid #eeeeee;
-moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
-webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
}
.post-body img, .post-body .tr-caption-container {
padding: 5px;
}
.post-body .tr-caption-container {
color: #222222;
}
.post-body .tr-caption-container img {
padding: 0;
background: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
box-shadow: 0 0 0 rgba(0, 0, 0, .1);
}
.post-header {
margin: 0 0 1.5em;
line-height: 1.6;
font-size: 90%;
}
.post-footer {
margin: 20px -2px 0;
padding: 5px 10px;
color: #666666;
background-color: #f9f9f9;
border-bottom: 1px solid #eeeeee;
line-height: 1.6;
font-size: 90%;
}
#comments .comment-author {
padding-top: 1.5em;
border-top: 1px solid #eeeeee;
background-position: 0 1.5em;
}
#comments .comment-author:first-child {
padding-top: 0;
border-top: none;
}
.avatar-image-container {
margin: .2em 0 0;
}
#comments .avatar-image-container img {
border: 1px solid #eeeeee;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #999999;
border-bottom: 1px solid #999999;
}
.comments .comment-thread.inline-thread {
background-color: #f9f9f9;
}
.comments .continue {
border-top: 2px solid #999999;
}
/* Accents
---------------------------------------------- */
.section-columns td.columns-cell {
border-left: 1px solid #eeeeee;
}
.blog-pager {
background: transparent none no-repeat scroll top center;
}
.blog-pager-older-link, .home-link,
.blog-pager-newer-link {
background-color: #ffffff;
padding: 5px;
}
.footer-outer {
border-top: 0 dashed #bbbbbb;
}
/* Mobile
----------------------------------------------- */
body.mobile  {
background-size: auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
.mobile .body-fauxcolumn-outer .cap-top {
background-size: 100% auto;
}
.mobile .content-outer {
-webkit-box-shadow: 0 0 3px rgba(0, 0, 0, .15);
box-shadow: 0 0 3px rgba(0, 0, 0, .15);
}
.mobile .tabs-inner .widget ul {
margin-left: 0;
margin-right: 0;
}
.mobile .post {
margin: 0;
}
.mobile .main-inner .column-center-inner .section {
margin: 0;
}
.mobile .date-header span {
padding: 0.1em 10px;
margin: 0 -10px;
}
.mobile h3.post-title {
margin: 0;
}
.mobile .blog-pager {
background: transparent none no-repeat scroll top center;
}
.mobile .footer-outer {
border-top: none;
}
.mobile .main-inner, .mobile .footer-inner {
background-color: #ffffff;
}
.mobile-index-contents {
color: #222222;
}
.mobile-link-button {
background-color: #ff9900;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}
.mobile .tabs-inner .section:first-child {
border-top: none;
}
.mobile .tabs-inner .PageList .widget-content {
background-color: #eeeeee;
color: #000000;
border-top: 1px solid #eeeeee;
border-bottom: 1px solid #eeeeee;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #eeeeee;
}
.blogger-clickTrap {
display: none!important;
}

--></style>
<style id='template-skin-1' type='text/css'><!--
body {
min-width: 1080px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 1080px;
max-width: 1080px;
_width: 1080px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 250px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 250px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("250px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 250px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 250px;
margin-right: -250px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
--></style>
<link href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=5171098727364395242&amp;zx=800123e3-99bb-4c0f-ac98-e25adf44a9ee' media='none' onload='if(media!=&#39;all&#39;)media=&#39;all&#39;' rel='stylesheet'/><noscript><link href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=5171098727364395242&amp;zx=800123e3-99bb-4c0f-ac98-e25adf44a9ee' rel='stylesheet'/></noscript>
</head>
<body class='loading variant-bold'>
<div class='navbar section' id='navbar'><div class='widget Navbar' data-version='1' id='Navbar1'><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"></div>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<script type="text/javascript">
      gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          gapi.iframes.getContext().openChild({
              url: 'https://www.blogger.com/navbar.g?targetBlogID\x3d5171098727364395242\x26blogName\x3dPsychosomatic,+Lobotomy,+Saw\x26publishMode\x3dPUBLISH_MODE_BLOGSPOT\x26navbarType\x3dLIGHT\x26layoutType\x3dLAYOUTS\x26searchRoot\x3dhttp://psy-lob-saw.blogspot.com/search\x26blogLocale\x3den_GB\x26v\x3d2\x26homepageUrl\x3dhttp://psy-lob-saw.blogspot.com/\x26targetPostID\x3d708670203714644669\x26blogPostOrPageUrl\x3dhttp://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html\x26vt\x3d-3500052519619565550',
              where: document.getElementById("navbar-iframe-container"),
              id: "navbar-iframe"
          });
        }
      });
    </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div class='body-fauxcolumns'>
<div class='fauxcolumn-outer body-fauxcolumn-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<div class='content'>
<div class='content-fauxcolumns'>
<div class='fauxcolumn-outer content-fauxcolumn-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<div class='content-outer'>
<div class='content-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left content-fauxborder-left'>
<div class='fauxborder-right content-fauxborder-right'></div>
<div class='content-inner'>
<header>
<div class='header-outer'>
<div class='header-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left header-fauxborder-left'>
<div class='fauxborder-right header-fauxborder-right'></div>
<div class='region-inner header-inner'>
<div class='header section' id='header'><div class='widget Header' data-version='1' id='Header1'>
<div id='header-inner'>
<div class='titlewrapper'>
<h1 class='title'>
<a href='http://psy-lob-saw.blogspot.co.za/'>
Psychosomatic, Lobotomy, Saw
</a>
</h1>
</div>
<div class='descriptionwrapper'>
<p class='description'><span>It's X, you'll need Y, I'll get Z</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class='header-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</header>
<div class='tabs-outer'>
<div class='tabs-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left tabs-fauxborder-left'>
<div class='fauxborder-right tabs-fauxborder-right'></div>
<div class='region-inner tabs-inner'>
<div class='tabs no-items section' id='crosscol'></div>
<div class='tabs no-items section' id='crosscol-overflow'></div>
</div>
</div>
<div class='tabs-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='main-outer'>
<div class='main-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left main-fauxborder-left'>
<div class='fauxborder-right main-fauxborder-right'></div>
<div class='region-inner main-inner'>
<div class='columns fauxcolumns'>
<div class='fauxcolumn-outer fauxcolumn-center-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='fauxcolumn-outer fauxcolumn-left-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='fauxcolumn-outer fauxcolumn-right-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class='columns-inner'>
<div class='column-center-outer'>
<div class='column-center-inner'>
<div class='main section' id='main'><div class='widget Blog' data-version='1' id='Blog1'>
<div class='blog-posts hfeed'>

          <div class="date-outer">
        
<h2 class='date-header'><span>Wednesday, 24 February 2016</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='https://2.bp.blogspot.com/-CUPihCsd5uY/UTe_no1yEmI/AAAAAAAAAGg/6f_UkUvj_tY/s1600/sad-panda.jpg' itemprop='image_url'/>
<meta content='5171098727364395242' itemprop='blogId'/>
<meta content='708670203714644669' itemprop='postId'/>
<a name='708670203714644669'></a>
<h3 class='post-title entry-title' itemprop='name'>
Why (Most) Sampling Java Profilers Are Fucking Terrible 
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-708670203714644669' itemprop='description articleBody'>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://2.bp.blogspot.com/-CUPihCsd5uY/UTe_no1yEmI/AAAAAAAAAGg/6f_UkUvj_tY/s1600/sad-panda.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="https://2.bp.blogspot.com/-CUPihCsd5uY/UTe_no1yEmI/AAAAAAAAAGg/6f_UkUvj_tY/s1600/sad-panda.jpg" /></a></div>
This post builds on the basis of a <a href="http://psy-lob-saw.blogspot.com/2015/12/safepoints.html" target="_blank">previous post on safepoints</a>. If you've not read it you might feel lost and confused. If you have read it, and still feel lost and confused, and you are certain this feeling is related to the matter at hand (as opposed to an existential crisis), please ask away.<br />
So, now that we've established what safepoints are, and that:<br />
<ol>
<li>Safepoint polls are dispersed at fairly arbitrary points (depending on execution mode, mostly at uncounted loop back edge or method return/entry).</li>
<li>Bringing the JVM to a global safepoint is high cost</li>
</ol>
We have all the information we need to conclude that profiling by sampling at a safepoint is perhaps a bit shite. This will not come as a surprise to some, but this issue is present in the most commonly used profilers. According to this <a href="http://pages.zeroturnaround.com/RebelLabs---All-Report-Landers_Developer-Productivity-Report-2015.html?utm_source=performance-survey-report&amp;utm_medium=allreports&amp;utm_campaign=rebellabs&amp;utm_rebellabsid=97" target="_blank">survey</a>&nbsp;by RebelLabs this is the breakdown:<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="https://1.bp.blogspot.com/-NTpQ0vTOg9o/VsytuZ7EIvI/AAAAAAAACfU/7ITCc3qLuoA/s1600/which-profiler.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://1.bp.blogspot.com/-NTpQ0vTOg9o/VsytuZ7EIvI/AAAAAAAACfU/7ITCc3qLuoA/s1600/which-profiler.png" /></a></div>
<br />
<div class="separator" style="clear: both; text-align: center;">
<br /></div>
VisualVM, NB Profiler(same thing), YourKit and JProfiler all provide a sampling CPU profiler which samples at a safepoint. Seeing how this is a rather common issue, lets dig into it.<br />
<br />
<h3>
How Sampling Execution Profilers Work (in theory)</h3>
<div>
Sampling profilers are supposed to approximate the 'time spent' distribution in our application by collecting samples of where our application is at different points in time. The data collected at each sample could be:</div>
<div>
<ul>
<li>current instruction</li>
<li>current line of code</li>
<li>current method</li>
<li>current stack trace</li>
</ul>
The data can be collected for a single thread or all threads at each sample. What do we need to hold for sampling to work?<br />
<blockquote class="tr_bq">
"However, for sampling
to produce results that are comparable to a full (unsampled) profile,
the following two conditions must hold.
<b>First, we must have a large number of samples to get statistically
significant results.</b> For example, if a profiler collects only a single
sample in the entire program run, the profiler will assign 100% of
the program execution time to the code in which it took its sample
and 0% to everything else. [...]<br />
<b>Second, the profiler should sample all points in a program run
with equal probability.</b> If a profiler does not do so, it will end up with bias in its profile. For example, let&#8217;s suppose our profiler can
only sample methods that contain calls. This profiler will attribute
no execution time to methods that do not contain calls even though
they may account for much of the program&#8217;s execution time." - from&nbsp;<a href="http://plv.colorado.edu/papers/mytkowicz-pldi10.pdf" target="_blank">Evaluating the Accuracy of Java Profilers</a>, we'll get back to this article in a bit</blockquote>
</div>
<div>
<ol>
</ol>
That sounds easy enough, right?</div>
<div>
Once we have lots of samples we can construct a list of hot methods, or even code lines in those methods (if the samples report it), we can look at the samples distributed on the call tree (if call traces are collected) and have an awesome time!</div>
<div>
<br /></div>
<h3>
How Do Generic Commercial Java Sampling Execution Profilers Work?</h3>
Well, I can sort of reverse engineer here from different solutions, or read through open source code bases, but instead I'll offer unsupported conjecture and you are free to call me out on it if you know better. Generic profilers rely on the JVMTI spec, which all JVMs must meet:<br />
<ul>
<li>JVMTI offers only safepoint sampling stack trace collection options (GetStackTrace for the calling thread doesn't require a safepoint, but that is not very useful to a profiler. On Zing &nbsp;GetStackTrace to another thread will bring only that thread to a safepoint.). It follows that vendors who want their tools to work on ALL JVMs are limited to safepoint sampling.</li>
<li>You hit a global safepoint whether you are sampling a single thread or all threads (at least on OpenJDK, Zing is slightly different but as a profiler vendor OpenJDK is your assumption.). All profilers I looked into go for sampling all threads. AFAIK they also do not limit the depth of the stack collected. This amounts to the following JVMTI call:&nbsp;<i><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">JvmtiEnv::GetAllStackTraces(0, &amp;stack_info, &amp;thread_count)</span></i></li>
<li><span style="font-family: inherit;">So this adds up to: setup a timer thread which triggers at 'sampling_interval' and gathers all stack traces.</span></li>
</ul>
This is bad for several reasons, some of which are avoidable:<br />
<ol>
<li>Sampling profilers need samples, so it is common to set sampling frequency is quite high (usually 10 times a second, or every 100ms). It's instructive to set the -XX:+PrintGCApplicationStoppedTime and see what sort of pause time this introduces. It's not unusual to see a few milliseconds pause, but YMMV(depending on number of threads, stack depth, TTSP etc). A 5ms pause every 100ms will mean a 5% overhead (actual damage is likely worse than that) introduced by your profiler. You can usually control the damage here by setting the interval longer, but this also means you will need a longer profiling period to get a meaningful sample count.</li>
<li>Gathering <b>full</b>&nbsp;stack traces from <b>all</b>&nbsp;the threads means your safepoint operation cost is open ended. The more threads your application has (think application server, SEDA architecture, lots of thread pools...), and the deeper your stack traces (think Spring and Co.) the longer your application will wait for a single thread to go round taking names and filling forms. This was clearly demonstrated in the previous post. AFAIK, current profilers do nothing to help you here. If you are building your own profiler it would seem sensible to set a limit on either quantities so that you can box your overheads. The JVMTI functionality allows you to query the list of current threads, you could sample all if there's less than a 100 and otherwise pick a random subset of 100 to sample. It would make sense to perhaps bias towards sampling threads that are actually doing something as opposed to threads which spend all their time blocked.</li>
<li>As if all that was not bad enough, sampling at a safepoint is a tad meaningless.</li>
</ol>
Points 1 and 2 are about profiling overheads, which is basically about cost. In my previous post on safepoints I looked at these costs, so there's no point repeating the exercise. &nbsp;Cost may be acceptable for good profiling information, but as we'll see the information is not that great.<br />
Point 3 bears explaining, so off we go in the search for meaning.<br />
<br />
<h3>
Safepoint Sampling: Theory</h3>
<div>
So what does sampling at a safepoint mean? It means only the safepoint polls in the running code are visible. Given hot code is likely compiled by C1/C2 (client/server compilers) we have reduced our sampling opportunities to method exit and uncounted loop backedges. This leads to the phenomena called <b>safepoint bias</b> whereby the sampling profiler samples are biased towards the next available safepoint poll location (this fails the second criteria set out above "<b>the profiler should sample all points in a program run with equal probability</b>").<br />
This may not sound so bad at first, so lets work through a simple example and see which line gets the blame.<br />
<b>NOTE</b>: In all of the following examples I will be using <a href="http://psy-lob-saw.blogspot.co.za/p/jmh-related-posts.html" target="_blank">JMH</a> as the test harness and make use of the 'CompilerControl' annotation to prevent inlining. This will let me control the compilation unit limits, and may seem cruel and unusual, or at least unfair, of me. Inlining decisions in the 'wild' are governed by many factors and it is safe (in my opinion) to consider them arbitrary (in the hands of several compilers/JVM vendors/command line arguments etc.). Inlinining may well be the "mother of all optimizations", but it is a fickle and wily mother at that.<br />
Let's look at something simple:<br />
<script src="https://gist.github.com/nitsanw/d40a165cb1e6f02a30ea.js"></script><br />
This is an easy example to think about. We can control the amount of work in the method by changing the size of the array. We know the counted loop has no safepoint poll in it (verified by looking at the assembly output), so in theory the methods above will have a safepoint at method exit. The thing is, if we let the method above get inlined the end of method safepoint poll will disappear, and the next poll will be in the measurement loop:<br />
<script src="https://gist.github.com/nitsanw/3475ff92ef355de4f3dc.js"></script><br />
So, it would seem reasonable to expect the method to get blamed if it is not inlined, but if it does get inlined we can expect the measurement method to get blamed. Right? very reasonable, but a bit off.<br />
<br />
<h3>
Safepoint Sampling: Reality</h3>
<div>
Safepoint bias is discussed in this nice paper from 2010:&nbsp;<a href="http://plv.colorado.edu/papers/mytkowicz-pldi10.pdf" target="_blank">Evaluating the Accuracy of Java Profilers</a>, where the writers recognize that different Java profilers identify different hotspots in the same benchmarks and go digging for reasons. What they don't do is set up some benchmarks where the hotspot is known and use those to understand what it is that safepoint biased profilers see. They state:</div>
<blockquote class="tr_bq">
"If we knew the &#8220;correct&#8221; profile for a program run, we could evaluate
the profiler with respect to this correct profile. Unfortunately,
there is no &#8220;correct&#8221; profile most of the time and thus we cannot
definitively determine if a profiler is producing correct results."</blockquote>
<div>
So, if we construct a known workload... what do these profilers see?</div>
<div>
We'll study that with the JMH safepoint biased profiler "-prof stack". It is much like JVisualVM in the profiles it presents for the same code, and a damn sight more convenient for this study.<br />
<i>NOTE: In the following sections I'm using the term sub-method to describe a method which is being called into from another method. E.g. if method A calls method B, B is a sub method of A. Maybe a better terminology exists, but that's what I mean here.</i></div>
<div>
If we run the samples above we get 2 different hot lines of code (run with '-prof stack:detailLine=true'):<br />
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"># Benchmark: safepoint.profiling.SafepointProfiling.meSoHotInline</span></div>
<div>
<div>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">....[Thread state: RUNNABLE]...</span></div>
</div>
<div>
<div>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp;99.6% &nbsp;99.8% meSoHotInline_avgt_jmhStub:165</span></div>
</div>
<div>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span></div>
<div>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"># Benchmark: safepoint.profiling.SafepointProfiling.meSoHotNoInline</span></div>
<div>
<div>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">....[Thread state: RUNNABLE]...</span></div>
<div>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp;99.4% &nbsp;99.6% meSoHotNoInline_avgt_jmhStub:163</span></div>
</div>
<div>
<br /></div>
<div>
Neither one in the actually hot method. It seems that the <u>method exit safepoint is not deemed indicative of it's own method, but rather of the line of code from which it was called</u>. So forcing the method under measurement to not inline implicated the calling line of code in the measurement loop, while leaving it to inline meant the back edge of the loop got the blame. It also appears that an uncounted loop safepoint poll is deemed indicative of it's own method.</div>
<div>
We may deduce(but we won't necessarily be correct) that when looking at this kind of profile without line of code data a hot method is indicative of:</div>
<div>
<ol>
<li>Some non-inlined sub method is hot*</li>
<li>Some code (own method? inlined sub method? non-inlined sub method?) in an uncounted loop is hot*</li>
</ol>
Having line of code data can help disambiguate the above cases, but it's not really very useful as line of code data. A hot line of code would be indicative of:</div>
<div>
<ol>
<li>Line has a method call: A method called from this line is hot (or maybe it's inlined sub-methods are)*</li>
<li>Line is a loop back edge: Some code (include inlined submethods) in this loop is hot*</li>
</ol>
<i><span style="font-size: x-small;">&nbsp; *Does that seem useful? Don't get your hopes up.</span></i><br />
Because we usually have no idea which methods got inlined this can be a bit confusing (you can use -XX:+PrintInlining if you want to find out, but be aware that inlining decisions can change from run to run).<br />
<br /></div>
<h3>
Mind The Gap</h3>
If the above rules held true you could use a safepoint biased profile by examining the code under the blamed node in the execution tree. In other words, it would mean a hot method indicates the hot code lies somewhere in that code or in the method it calls. This would be good to know, and the profile could serve as a starting point for some productive digging. But sadly, these rules do not always hold true. They are missing the fact that the hot code can be anywhere between the indicated safepoint poll and the previous one. Consider the following example:<br />
<script src="https://gist.github.com/nitsanw/919dca8636e32d448916.js"></script><br />
Clearly, the time is spent in the loop before calling setResult, but the profile blames setResult. There's nothing wrong with&nbsp;setResult&nbsp;except that a method it calls into is not inlined, providing our profiler with a blame&nbsp;opportunity. This demonstrates the randomness with which the safepoint poll opportunities present themselves to &nbsp;user code, and shows that the hot code may be anywhere between the current safepoint poll and the previous one. This means that a hot method/line-of-code in a safepoint biased profile are potentially misleading without some idea of where the previous safepoint poll is. Consider the following example:<br />
<script src="https://gist.github.com/nitsanw/549b68bc42f13ea88588.js"></script><br />
The profiler implicates the caller to a cheap method 9 levels down the stack, but the real culprit is the loop at the topmost method. Note that inlining will prevent a method from showing, but not-inlined frames only break the gap between safepoints on return (on OpenJDK anyhow. This is vendor and whim dependent. e.g. Zing puts the method level safepoint on entry for instance and I'm not sure where J9 stands on this issue. This is not to say that one way is somehow better than the other, just that the location is arbitrary). This is why <i>setResult6</i> which is not inlined and higher up the stack doesn't show up.<br />
<br />
<h3>
Summary: What Is It Good For?</h3>
<div>
<a href="https://2.bp.blogspot.com/-E1iWJgoDyZA/UzSGYDh_vrI/AAAAAAAAAbI/BCjLOF-zl1g/s1600/PS_0825W_ELEMENT_CONFUSION.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" height="320" src="https://2.bp.blogspot.com/-E1iWJgoDyZA/UzSGYDh_vrI/AAAAAAAAAbI/BCjLOF-zl1g/s320/PS_0825W_ELEMENT_CONFUSION.jpg" width="320" /></a>As demonstrated above, a safepoint sampling profiler can have a wildly inaccurate idea of where the hot code in your application is. This renders derived observations on "Running" threads pretty suspect, but they are at least correct observations on which threads are running. This doesn't mean they are entirely useless and sometimes all we need is a hint in the right direction for some good analysis to happen, but there's a potential for huge waste of time here. While samples of code running in the interpreter do not suffer safepoint bias, this is not very useful as hot code is quickly compiled. If your hot code is running in the interpreter you have bigger fish to fry than safepoint bias...</div>
<div>
The stack traces for blocked threads are accurate, and so the "Waiting" profile is useful to discover blocked code profile. If blocking methods are at the root of your performance issue than this will be a handy observation.</div>
<div>
There are better options out there! I'll get into some of them in following posts:</div>
<div>
- Java Mission Control</div>
<div>
- Solaris Studio</div>
<div>
- Honest-Profiler</div>
<div>
- Perf&nbsp;+ perf-map-agent (or <a href="http://psy-lob-saw.blogspot.com/2015/07/jmh-perfasm.html" target="_blank">perfasm</a> if your workload is wrapped in a JMH benchmark)</div>
No tool is perfect, but all of the above are a damn sight better at identifying where CPU time is being spent.<br />
Big thanks to the many reviewers, if you find any issues please comment and I will punish them severely.<br />
<br />
<b>UPDATE: Read follow up post of Honest-Profiler/Java Flight Recorder type profilers in this next post - <a href="http://psy-lob-saw.blogspot.co.za/2016/06/the-pros-and-cons-of-agct.html" target="_blank">The Pros And Cons of AsyncGetCallTrace Profilers</a></b></div>
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'><span class='post-author vcard'>
</span>
<span class='post-timestamp'>
at
<meta content='http://psy-lob-saw.blogspot.co.za/2016/02/why-most-sampling-java-profilers-are.html' itemprop='url'/>
<a class='timestamp-link' href='http://psy-lob-saw.blogspot.co.za/2016/02/why-most-sampling-java-profilers-are.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2016-02-24T07:07:00Z'>07:07:00</abbr></a>
</span>
<span class='post-comment-link'>
</span>
<span class='post-icons'>
<span class='item-control blog-admin pid-1797904270'>
<a href='https://www.blogger.com/post-edit.g?blogID=5171098727364395242&postID=708670203714644669&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='https://resources.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
<a class='goog-inline-block share-button sb-email' href='https://www.blogger.com/share-post.g?blogID=5171098727364395242&postID=708670203714644669&target=email' target='_blank' title='Email This'><span class='share-button-link-text'>Email This</span></a><a class='goog-inline-block share-button sb-blog' href='https://www.blogger.com/share-post.g?blogID=5171098727364395242&postID=708670203714644669&target=blog' onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target='_blank' title='BlogThis!'><span class='share-button-link-text'>BlogThis!</span></a><a class='goog-inline-block share-button sb-twitter' href='https://www.blogger.com/share-post.g?blogID=5171098727364395242&postID=708670203714644669&target=twitter' target='_blank' title='Share to Twitter'><span class='share-button-link-text'>Share to Twitter</span></a><a class='goog-inline-block share-button sb-facebook' href='https://www.blogger.com/share-post.g?blogID=5171098727364395242&postID=708670203714644669&target=facebook' onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target='_blank' title='Share to Facebook'><span class='share-button-link-text'>Share to Facebook</span></a><a class='goog-inline-block share-button sb-pinterest' href='https://www.blogger.com/share-post.g?blogID=5171098727364395242&postID=708670203714644669&target=pinterest' target='_blank' title='Share to Pinterest'><span class='share-button-link-text'>Share to Pinterest</span></a><div class='goog-inline-block google-plus-share-container'><g:plusone source='blogger:blog:plusone' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html' size='medium' width='300' annotation='inline'/></div>
</div>
<span class='post-backlinks post-comment-link'>
</span>
</div>
<div class='post-footer-line post-footer-line-2'><span class='post-labels'>
Labels:
<a href='http://psy-lob-saw.blogspot.co.za/search/label/Java' rel='tag'>Java</a>,
<a href='http://psy-lob-saw.blogspot.co.za/search/label/JMH' rel='tag'>JMH</a>,
<a href='http://psy-lob-saw.blogspot.co.za/search/label/JVisualVM' rel='tag'>JVisualVM</a>,
<a href='http://psy-lob-saw.blogspot.co.za/search/label/JVM' rel='tag'>JVM</a>,
<a href='http://psy-lob-saw.blogspot.co.za/search/label/Measurement' rel='tag'>Measurement</a>,
<a href='http://psy-lob-saw.blogspot.co.za/search/label/Profiling' rel='tag'>Profiling</a>,
<a href='http://psy-lob-saw.blogspot.co.za/search/label/safepoint' rel='tag'>safepoint</a>,
<a href='http://psy-lob-saw.blogspot.co.za/search/label/YourKit' rel='tag'>YourKit</a>
</span>
</div>
<div class='post-footer-line post-footer-line-3'><span class='post-location'>
</span>
</div>
</div>
</div>
<div class='comments' id='comments'>
<a name='comments'></a>
<h4>12 comments:</h4>
<div class='comments-content'>
<script async='async' src='//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js' type='text/javascript'></script>
<script type='text/javascript'>
    (function() {
      var items = [{'id': '1936559392112616142', 'body': 'Too much of \x26quot;fuckings\x26quot; in public posts', 'timestamp': '1456301664382', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1456301664382#c1936559392112616142', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': '24 Feb 2016, 08:14:00', 'deleteclass': 'item-control blog-admin pid-787781151'}, {'id': '5177797752511960555', 'body': 'Great post. As always :)', 'timestamp': '1456304181956', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1456304181956#c5177797752511960555', 'author': {'name': 'Rafal G.', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/00946072483901797116'}, 'displayTime': '24 Feb 2016, 08:56:00', 'deleteclass': 'item-control blog-admin pid-1450503800'}, {'id': '2940004686433754011', 'body': 'Nitsan, one small addition. You mentioned that those open source and commercial tools all ship sampling profilers. It should be noted that the also ship instrumenting profilers as alternative. While I think that this is the even worse alternative, I think it is worth mentioning.', 'timestamp': '1456304329723', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1456304329723#c2940004686433754011', 'author': {'name': 'Fabian', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/17511970387977294161'}, 'displayTime': '24 Feb 2016, 08:58:00', 'deleteclass': 'item-control blog-admin pid-1796648119'}, {'id': '8184582225210848413', 'parentId': '2940004686433754011', 'body': 'They do indeed, and those profilers are sort of off topic, so I left them out. They have their uses and limitations... there\x26#39;s only so much I can cover in a post...', 'timestamp': '1456306678221', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1456306678221#c8184582225210848413', 'author': {'name': 'Nitsan Wakart', 'avatarUrl': '//lh6.googleusercontent.com/-LPZyIqgbGeQ/AAAAAAAAAAI/AAAAAAAAADA/C0pnXZHCmqU/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/10496299147100350513'}, 'displayTime': '24 Feb 2016, 09:37:00', 'deleteclass': 'item-control blog-admin pid-1797904270'}, {'id': '7060347055825028203', 'parentId': '1936559392112616142', 'body': 'A recent poll shows that most people enjoy cursing in blog posts:\x3cbr /\x3ehttps://twitter.com/nitsanw/status/696327788056473600\x3cbr /\x3eBut still:\x3cbr /\x3e\x26quot;If we shadows have offended,\x3cbr /\x3e&#8195;Think but this, and all is mended&#8212;\x3cbr /\x3e&#8195;That you have but slumbered here\x3cbr /\x3e&#8195;While these visions did appear.\x3cbr /\x3e&#8195;And this weak and idle theme,\x3cbr /\x3e&#8195;No more yielding but a dream,\x3cbr /\x3e&#8195;Gentles, do not reprehend.\x26quot; ', 'timestamp': '1456306934270', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1456306934270#c7060347055825028203', 'author': {'name': 'Nitsan Wakart', 'avatarUrl': '//lh6.googleusercontent.com/-LPZyIqgbGeQ/AAAAAAAAAAI/AAAAAAAAADA/C0pnXZHCmqU/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/10496299147100350513'}, 'displayTime': '24 Feb 2016, 09:42:00', 'deleteclass': 'item-control blog-admin pid-1797904270'}, {'id': '7467376461555257355', 'body': 'Thanks for the post. Hope you include JFR and -XX:+DebugNonSafepoints in the followup post you mention.', 'timestamp': '1456320859661', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1456320859661#c7467376461555257355', 'author': {'name': 'Brian Harris', 'avatarUrl': '//lh4.googleusercontent.com/-r3cvek-LAww/AAAAAAAAAAI/AAAAAAAABVE/xUa6P5ucR8A/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/05418445401722333726'}, 'displayTime': '24 Feb 2016, 13:34:00', 'deleteclass': 'item-control blog-admin pid-1008884503'}, {'id': '7135103445397899622', 'parentId': '7467376461555257355', 'body': 'Next post on this topic will look at Honest-Profiler and JFR. Both require -XX:+DebugNonSafepoints to get better profiles. I\x26#39;m not planning to look at JMC beyond the code profiling aspect, so from this limited perspective HP and JFR give very similar data. The data is better than JVisualVM etc, but has its issues as well.', 'timestamp': '1456321358292', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1456321358292#c7135103445397899622', 'author': {'name': 'Nitsan Wakart', 'avatarUrl': '//lh6.googleusercontent.com/-LPZyIqgbGeQ/AAAAAAAAAAI/AAAAAAAAADA/C0pnXZHCmqU/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/10496299147100350513'}, 'displayTime': '24 Feb 2016, 13:42:00', 'deleteclass': 'item-control blog-admin pid-1797904270'}, {'id': '3031582265292092112', 'parentId': '1936559392112616142', 'body': 'Following in the footsteps of one of my favorite development blogposts of all time ..\x3cbr /\x3ehttp://zedshaw.com/archive/programmers-need-to-learn-statistics-or-i-will-kill-them-all.\x3cbr /\x3e\x3cbr /\x3ePeter Booth', 'timestamp': '1457965005485', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1457965005485#c3031582265292092112', 'author': {'name': 'Unknown', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/08448733463838897096'}, 'displayTime': '14 Mar 2016, 14:16:00', 'deleteclass': 'item-control blog-admin pid-205791526'}, {'id': '830822357461850252', 'parentId': '7467376461555257355', 'body': 'JFR is lovely. Alas it doesn\x26#39;t work with Zing. ', 'timestamp': '1457965068590', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1457965068590#c830822357461850252', 'author': {'name': 'Unknown', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/08448733463838897096'}, 'displayTime': '14 Mar 2016, 14:17:00', 'deleteclass': 'item-control blog-admin pid-205791526'}, {'id': '5596149415447700877', 'parentId': '7467376461555257355', 'body': 'JFR only works on Oracle JVM, and only from 7u60.\x3cbr /\x3eIt doesn\x26#39;t work for Zing, or OpenJDK, IceTea, J9 or anything else.\x3cbr /\x3eIt originates from the now abandoned JRockit JVM, where it also worked.\x3cbr /\x3eZing supports AsyncGetCallTrace, so honest-profiler works, and we\x26#39;re trying to make it Solaris Studio compatible. It also comes with it\x26#39;s own profiler ZVision which is non-safepoint sampling and instruction level profiling (but is rather ugly to look at... on the other hand, if you are looking at assembly, you must have built some tolerance by now).', 'timestamp': '1457968957863', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1457968957863#c5596149415447700877', 'author': {'name': 'Nitsan Wakart', 'avatarUrl': '//lh6.googleusercontent.com/-LPZyIqgbGeQ/AAAAAAAAAAI/AAAAAAAAADA/C0pnXZHCmqU/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/10496299147100350513'}, 'displayTime': '14 Mar 2016, 15:22:00', 'deleteclass': 'item-control blog-admin pid-1797904270'}, {'id': '1254887081320631496', 'body': 'Brendan Gregg did some work on the OpenJDK JVM so you could use the Linux \x26quot;perf\x26quot; tool to get real stack traces out of the interpreter. Combined with the java-perf-map agent you can see some non-biased, sampled stack traces. ', 'timestamp': '1461623854994', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1461623854994#c1254887081320631496', 'author': {'name': 'Justin', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/04138857652921543796'}, 'displayTime': '25 Apr 2016, 23:37:00', 'deleteclass': 'item-control blog-admin pid-1525658598'}, {'id': '5664411013658265777', 'parentId': '1254887081320631496', 'body': 'This is definitely a good option, let me just expand further on it (I will write a post on at some point):\x3cbr /\x3e\x3cbr /\x3eBrendan contributed a POC patch which (after the OpenJDK guys worked it into full production code) adds up to what is now available as -XX:+PerserveFramePointer. This allows perf to walk the stack. Using that in conjunction with perf-map-agent allows us to get usable call traces out of Java (on Linux+JDK8u60 and up).\x3cbr /\x3e\x3cbr /\x3eBrendan was instrumental to the effort, but others deserve good chunks of the credit too (and Brendan is very good about pointing this out himself).\x3cbr /\x3e\x3cbr /\x3eUsing perf+PMA+PFP gives you the unbiased stacks, but the data you get is limited in 2 respects:\x3cbr /\x3e\x3cbr /\x3e1. No interpreter frames\x3cbr /\x3e2. No inlined frames\x3cbr /\x3e\x3cbr /\x3eYou can \x26#39;unfold\x26#39; inlined frames (use latest PMA code, there was a bug there) but AFAIK this needs some FlameGraph lovin\x26#39; to display well and to get sensible data you should enable -XX:+DebugNonSafepoint. Once you unfold you have other issues to worry about such as skid etc. Nothing is perfect :-).', 'timestamp': '1461659480296', 'permalink': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment\x3d1461659480296#c5664411013658265777', 'author': {'name': 'Nitsan Wakart', 'avatarUrl': '//lh6.googleusercontent.com/-LPZyIqgbGeQ/AAAAAAAAAAI/AAAAAAAAADA/C0pnXZHCmqU/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/10496299147100350513'}, 'displayTime': '26 Apr 2016, 09:31:00', 'deleteclass': 'item-control blog-admin pid-1797904270'}];
      var msgs = {'loadMore': 'Load more...', 'loading': 'Loading...', 'loaded': 'No more.', 'addComment': 'Add comment', 'reply': 'Reply', 'delete': 'Delete'};
      var config = {'blogId': '5171098727364395242', 'postId': '708670203714644669', 'feed': 'http://psy-lob-saw.blogspot.com/feeds/708670203714644669/comments/default', 'authorName': 'Nitsan Wakart', 'authorUrl': 'https://www.blogger.com/profile/10496299147100350513', 'baseUri': 'https://www.blogger.com', 'maxThreadDepth': 2};

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        if (entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + entry.content.$t + '</span>';
            }
          }
        }
        return entry.content.$t;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          replybox.src = '';
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
  </script>
<div id='comment-holder'>
<div id='bc_0_13C' kind='c'><div id='bc_0_13CT'><div id='bc_0_12T' class='comment-thread' kind='r'  t='0' u='0'><ol id='bc_0_12TB'><li id='bc_0_2B' class='comment' kind='b'><div class='avatar-image-container'><img src='//img1.blogblog.com/img/blank.gif'></img></div><div id='c1936559392112616142' class='comment-block'><div id='bc_0_2M' class='comment-header' kind='m'><cite class='user'>Anonymous</cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1456301664382#c1936559392112616142'>24 Feb 2016, 08:14:00</a></span></div><p id='bc_0_2MC' class='comment-content'>Too much of &quot;fuckings&quot; in public posts</p><span id='bc_0_2MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Reply</a><span class='item-control blog-admin pid-787781151'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=1936559392112616142'>Delete</a></span></span></div><div id='bc_0_2BR' class='comment-replies'><span id='bc_0_2b+seedEPiD' kind='d'><div id='bc_0_0T' class='comment-thread inline-thread' kind='t'   t='0' u='0'><span id='bc_0_0TT' class='thread-toggle thread-expanded' kind='g'><span id='bc_0_0TA' class='thread-arrow'></span><span id='bc_0_0TN' class='thread-count'><span id='bc_0_0TNT' style='display: none;'></span><span id='bc_0_0TNU' style='display: none;'></span><a href='javascript:;' target='_self'>Replies</a><div id='bc_0_0TD' class='thread-dropContainer thread-expanded'><span class='thread-drop'></span></div></span></span><ol id='bc_0_0TC' class='thread-chrome thread-expanded'><div><li id='bc_0_0B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh6.googleusercontent.com/-LPZyIqgbGeQ/AAAAAAAAAAI/AAAAAAAAADA/C0pnXZHCmqU/s35-c/photo.jpg'></img></div><div id='c7060347055825028203' class='comment-block'><div id='bc_0_0M' class='comment-header' kind='m'><cite class='user blog-author'><a rel='nofollow' href='https://www.blogger.com/profile/10496299147100350513'>Nitsan Wakart</a></cite><span class='icon user blog-author'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1456306934270#c7060347055825028203'>24 Feb 2016, 09:42:00</a></span></div><p id='bc_0_0MC' class='comment-content'>A recent poll shows that most people enjoy cursing in blog posts:<br />https://twitter.com/nitsanw/status/696327788056473600<br />But still:<br />&quot;If we shadows have offended,<br />&#8195;Think but this, and all is mended&#8212;<br />&#8195;That you have but slumbered here<br />&#8195;While these visions did appear.<br />&#8195;And this weak and idle theme,<br />&#8195;No more yielding but a dream,<br />&#8195;Gentles, do not reprehend.&quot; </p><span id='bc_0_0MN' class='comment-actions secondary-text' kind='m'><span class='item-control blog-admin pid-1797904270'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=7060347055825028203'>Delete</a></span></span></div><div id='bc_0_0BR' class='comment-replies'></div><div id='bc_0_0B_box' class='comment-replybox-single'></div></li><li id='bc_0_1B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35'></img></div><div id='c3031582265292092112' class='comment-block'><div id='bc_0_1M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='https://www.blogger.com/profile/08448733463838897096'>Unknown</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1457965005485#c3031582265292092112'>14 Mar 2016, 14:16:00</a></span></div><p id='bc_0_1MC' class='comment-content'>Following in the footsteps of one of my favorite development blogposts of all time ..<br />http://zedshaw.com/archive/programmers-need-to-learn-statistics-or-i-will-kill-them-all.<br /><br />Peter Booth</p><span id='bc_0_1MN' class='comment-actions secondary-text' kind='m'><span class='item-control blog-admin pid-205791526'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=3031582265292092112'>Delete</a></span></span></div><div id='bc_0_1BR' class='comment-replies'></div><div id='bc_0_1B_box' class='comment-replybox-single'></div></li></div><div id='bc_0_0I' class='continue' kind='ci'><a href='javascript:;' target='_self'>Reply</a></div></ol><div id='bc_0_0T_box' class='comment-replybox-thread'></div></div></span></div><div id='bc_0_2B_box' class='comment-replybox-single'></div></li><li id='bc_0_3B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35'></img></div><div id='c5177797752511960555' class='comment-block'><div id='bc_0_3M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='https://www.blogger.com/profile/00946072483901797116'>Rafal G.</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1456304181956#c5177797752511960555'>24 Feb 2016, 08:56:00</a></span></div><p id='bc_0_3MC' class='comment-content'>Great post. As always :)</p><span id='bc_0_3MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Reply</a><span class='item-control blog-admin pid-1450503800'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=5177797752511960555'>Delete</a></span></span></div><div id='bc_0_3BR' class='comment-replies'></div><div id='bc_0_3B_box' class='comment-replybox-single'></div></li><li id='bc_0_5B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35'></img></div><div id='c2940004686433754011' class='comment-block'><div id='bc_0_5M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='https://www.blogger.com/profile/17511970387977294161'>Fabian</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1456304329723#c2940004686433754011'>24 Feb 2016, 08:58:00</a></span></div><p id='bc_0_5MC' class='comment-content'>Nitsan, one small addition. You mentioned that those open source and commercial tools all ship sampling profilers. It should be noted that the also ship instrumenting profilers as alternative. While I think that this is the even worse alternative, I think it is worth mentioning.</p><span id='bc_0_5MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Reply</a><span class='item-control blog-admin pid-1796648119'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=2940004686433754011'>Delete</a></span></span></div><div id='bc_0_5BR' class='comment-replies'><span id='bc_0_5b+seedEPhD' kind='d'><div id='bc_0_4T' class='comment-thread inline-thread' kind='t'   t='0' u='0'><span id='bc_0_4TT' class='thread-toggle thread-expanded' kind='g'><span id='bc_0_4TA' class='thread-arrow'></span><span id='bc_0_4TN' class='thread-count'><span id='bc_0_4TNT' style='display: none;'></span><span id='bc_0_4TNU' style='display: none;'></span><a href='javascript:;' target='_self'>Replies</a><div id='bc_0_4TD' class='thread-dropContainer thread-expanded'><span class='thread-drop'></span></div></span></span><ol id='bc_0_4TC' class='thread-chrome thread-expanded'><div><li id='bc_0_4B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh6.googleusercontent.com/-LPZyIqgbGeQ/AAAAAAAAAAI/AAAAAAAAADA/C0pnXZHCmqU/s35-c/photo.jpg'></img></div><div id='c8184582225210848413' class='comment-block'><div id='bc_0_4M' class='comment-header' kind='m'><cite class='user blog-author'><a rel='nofollow' href='https://www.blogger.com/profile/10496299147100350513'>Nitsan Wakart</a></cite><span class='icon user blog-author'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1456306678221#c8184582225210848413'>24 Feb 2016, 09:37:00</a></span></div><p id='bc_0_4MC' class='comment-content'>They do indeed, and those profilers are sort of off topic, so I left them out. They have their uses and limitations... there&#39;s only so much I can cover in a post...</p><span id='bc_0_4MN' class='comment-actions secondary-text' kind='m'><span class='item-control blog-admin pid-1797904270'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=8184582225210848413'>Delete</a></span></span></div><div id='bc_0_4BR' class='comment-replies'></div><div id='bc_0_4B_box' class='comment-replybox-single'></div></li></div><div id='bc_0_4I' class='continue' kind='ci'><a href='javascript:;' target='_self'>Reply</a></div></ol><div id='bc_0_4T_box' class='comment-replybox-thread'></div></div></span></div><div id='bc_0_5B_box' class='comment-replybox-single'></div></li><li id='bc_0_9B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh4.googleusercontent.com/-r3cvek-LAww/AAAAAAAAAAI/AAAAAAAABVE/xUa6P5ucR8A/s35-c/photo.jpg'></img></div><div id='c7467376461555257355' class='comment-block'><div id='bc_0_9M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='https://www.blogger.com/profile/05418445401722333726'>Brian Harris</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1456320859661#c7467376461555257355'>24 Feb 2016, 13:34:00</a></span></div><p id='bc_0_9MC' class='comment-content'>Thanks for the post. Hope you include JFR and -XX:+DebugNonSafepoints in the followup post you mention.</p><span id='bc_0_9MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Reply</a><span class='item-control blog-admin pid-1008884503'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=7467376461555257355'>Delete</a></span></span></div><div id='bc_0_9BR' class='comment-replies'><span id='bc_0_9b+seedEPkD' kind='d'><div id='bc_0_6T' class='comment-thread inline-thread' kind='t'   t='0' u='0'><span id='bc_0_6TT' class='thread-toggle thread-expanded' kind='g'><span id='bc_0_6TA' class='thread-arrow'></span><span id='bc_0_6TN' class='thread-count'><span id='bc_0_6TNT' style='display: none;'></span><span id='bc_0_6TNU' style='display: none;'></span><a href='javascript:;' target='_self'>Replies</a><div id='bc_0_6TD' class='thread-dropContainer thread-expanded'><span class='thread-drop'></span></div></span></span><ol id='bc_0_6TC' class='thread-chrome thread-expanded'><div><li id='bc_0_6B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh6.googleusercontent.com/-LPZyIqgbGeQ/AAAAAAAAAAI/AAAAAAAAADA/C0pnXZHCmqU/s35-c/photo.jpg'></img></div><div id='c7135103445397899622' class='comment-block'><div id='bc_0_6M' class='comment-header' kind='m'><cite class='user blog-author'><a rel='nofollow' href='https://www.blogger.com/profile/10496299147100350513'>Nitsan Wakart</a></cite><span class='icon user blog-author'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1456321358292#c7135103445397899622'>24 Feb 2016, 13:42:00</a></span></div><p id='bc_0_6MC' class='comment-content'>Next post on this topic will look at Honest-Profiler and JFR. Both require -XX:+DebugNonSafepoints to get better profiles. I&#39;m not planning to look at JMC beyond the code profiling aspect, so from this limited perspective HP and JFR give very similar data. The data is better than JVisualVM etc, but has its issues as well.</p><span id='bc_0_6MN' class='comment-actions secondary-text' kind='m'><span class='item-control blog-admin pid-1797904270'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=7135103445397899622'>Delete</a></span></span></div><div id='bc_0_6BR' class='comment-replies'></div><div id='bc_0_6B_box' class='comment-replybox-single'></div></li><li id='bc_0_7B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35'></img></div><div id='c830822357461850252' class='comment-block'><div id='bc_0_7M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='https://www.blogger.com/profile/08448733463838897096'>Unknown</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1457965068590#c830822357461850252'>14 Mar 2016, 14:17:00</a></span></div><p id='bc_0_7MC' class='comment-content'>JFR is lovely. Alas it doesn&#39;t work with Zing. </p><span id='bc_0_7MN' class='comment-actions secondary-text' kind='m'><span class='item-control blog-admin pid-205791526'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=830822357461850252'>Delete</a></span></span></div><div id='bc_0_7BR' class='comment-replies'></div><div id='bc_0_7B_box' class='comment-replybox-single'></div></li><li id='bc_0_8B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh6.googleusercontent.com/-LPZyIqgbGeQ/AAAAAAAAAAI/AAAAAAAAADA/C0pnXZHCmqU/s35-c/photo.jpg'></img></div><div id='c5596149415447700877' class='comment-block'><div id='bc_0_8M' class='comment-header' kind='m'><cite class='user blog-author'><a rel='nofollow' href='https://www.blogger.com/profile/10496299147100350513'>Nitsan Wakart</a></cite><span class='icon user blog-author'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1457968957863#c5596149415447700877'>14 Mar 2016, 15:22:00</a></span></div><p id='bc_0_8MC' class='comment-content'>JFR only works on Oracle JVM, and only from 7u60.<br />It doesn&#39;t work for Zing, or OpenJDK, IceTea, J9 or anything else.<br />It originates from the now abandoned JRockit JVM, where it also worked.<br />Zing supports AsyncGetCallTrace, so honest-profiler works, and we&#39;re trying to make it Solaris Studio compatible. It also comes with it&#39;s own profiler ZVision which is non-safepoint sampling and instruction level profiling (but is rather ugly to look at... on the other hand, if you are looking at assembly, you must have built some tolerance by now).</p><span id='bc_0_8MN' class='comment-actions secondary-text' kind='m'><span class='item-control blog-admin pid-1797904270'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=5596149415447700877'>Delete</a></span></span></div><div id='bc_0_8BR' class='comment-replies'></div><div id='bc_0_8B_box' class='comment-replybox-single'></div></li></div><div id='bc_0_6I' class='continue' kind='ci'><a href='javascript:;' target='_self'>Reply</a></div></ol><div id='bc_0_6T_box' class='comment-replybox-thread'></div></div></span></div><div id='bc_0_9B_box' class='comment-replybox-single'></div></li><li id='bc_0_11B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35'></img></div><div id='c1254887081320631496' class='comment-block'><div id='bc_0_11M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='https://www.blogger.com/profile/04138857652921543796'>Justin</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1461623854994#c1254887081320631496'>25 Apr 2016, 23:37:00</a></span></div><p id='bc_0_11MC' class='comment-content'>Brendan Gregg did some work on the OpenJDK JVM so you could use the Linux &quot;perf&quot; tool to get real stack traces out of the interpreter. Combined with the java-perf-map agent you can see some non-biased, sampled stack traces. </p><span id='bc_0_11MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Reply</a><span class='item-control blog-admin pid-1525658598'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=1254887081320631496'>Delete</a></span></span></div><div id='bc_0_11BR' class='comment-replies'><span id='bc_0_11b+seedEPpD' kind='d'><div id='bc_0_10T' class='comment-thread inline-thread' kind='t'   t='0' u='0'><span id='bc_0_10TT' class='thread-toggle thread-expanded' kind='g'><span id='bc_0_10TA' class='thread-arrow'></span><span id='bc_0_10TN' class='thread-count'><span id='bc_0_10TNT' style='display: none;'></span><span id='bc_0_10TNU' style='display: none;'></span><a href='javascript:;' target='_self'>Replies</a><div id='bc_0_10TD' class='thread-dropContainer thread-expanded'><span class='thread-drop'></span></div></span></span><ol id='bc_0_10TC' class='thread-chrome thread-expanded'><div><li id='bc_0_10B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh6.googleusercontent.com/-LPZyIqgbGeQ/AAAAAAAAAAI/AAAAAAAAADA/C0pnXZHCmqU/s35-c/photo.jpg'></img></div><div id='c5664411013658265777' class='comment-block'><div id='bc_0_10M' class='comment-header' kind='m'><cite class='user blog-author'><a rel='nofollow' href='https://www.blogger.com/profile/10496299147100350513'>Nitsan Wakart</a></cite><span class='icon user blog-author'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html?showComment=1461659480296#c5664411013658265777'>26 Apr 2016, 09:31:00</a></span></div><p id='bc_0_10MC' class='comment-content'>This is definitely a good option, let me just expand further on it (I will write a post on at some point):<br /><br />Brendan contributed a POC patch which (after the OpenJDK guys worked it into full production code) adds up to what is now available as -XX:+PerserveFramePointer. This allows perf to walk the stack. Using that in conjunction with perf-map-agent allows us to get usable call traces out of Java (on Linux+JDK8u60 and up).<br /><br />Brendan was instrumental to the effort, but others deserve good chunks of the credit too (and Brendan is very good about pointing this out himself).<br /><br />Using perf+PMA+PFP gives you the unbiased stacks, but the data you get is limited in 2 respects:<br /><br />1. No interpreter frames<br />2. No inlined frames<br /><br />You can &#39;unfold&#39; inlined frames (use latest PMA code, there was a bug there) but AFAIK this needs some FlameGraph lovin&#39; to display well and to get sensible data you should enable -XX:+DebugNonSafepoint. Once you unfold you have other issues to worry about such as skid etc. Nothing is perfect :-).</p><span id='bc_0_10MN' class='comment-actions secondary-text' kind='m'><span class='item-control blog-admin pid-1797904270'><a o='d' target='_self' href='https://www.blogger.com/delete-comment.g?blogID=5171098727364395242&amp;postID=5664411013658265777'>Delete</a></span></span></div><div id='bc_0_10BR' class='comment-replies'></div><div id='bc_0_10B_box' class='comment-replybox-single'></div></li></div><div id='bc_0_10I' class='continue' kind='ci'><a href='javascript:;' target='_self'>Reply</a></div></ol><div id='bc_0_10T_box' class='comment-replybox-thread'></div></div></span></div><div id='bc_0_11B_box' class='comment-replybox-single'></div></li></ol><div id='bc_0_12I' class='continue' kind='ci'><a href='javascript:;' target='_self'>Add comment</a></div><div id='bc_0_12T_box' class='comment-replybox-thread'></div><div id='bc_0_12L' class='loadmore loaded' kind='rb'><a href='javascript:;' target='_self'>Load more...</a></div></div></div></div>
</div>
</div>
<p class='comment-footer'>
<div class='comment-form'>
<a name='comment-form'></a>
<p>
</p>
<a href='https://www.blogger.com/comment-iframe.g?blogID=5171098727364395242&postID=708670203714644669' id='comment-editor-src'></a>
<iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410px' id='comment-editor' name='comment-editor' src='' width='100%'></iframe>
<script src='https://www.blogger.com/static/v1/jsbin/2244480862-comment_from_post_iframe.js' type='text/javascript'></script>
<script type='text/javascript'>
      BLOG_CMT_createIframe('https://www.blogger.com/rpc_relay.html');
    </script>
</div>
</p>
<div id='backlinks-container'>
<div id='Blog1_backlinks-container'>
</div>
</div>
</div>
</div>

        </div></div>
      
</div>
<div class='blog-pager' id='blog-pager'>
<span id='blog-pager-newer-link'>
<a class='blog-pager-newer-link' href='http://psy-lob-saw.blogspot.co.za/2016/03/gc-nepotism-and-linked-queues.html' id='Blog1_blog-pager-newer-link' title='Newer Post'>Newer Post</a>
</span>
<span id='blog-pager-older-link'>
<a class='blog-pager-older-link' href='http://psy-lob-saw.blogspot.co.za/2016/02/wait-for-it-counteduncounted-loops.html' id='Blog1_blog-pager-older-link' title='Older Post'>Older Post</a>
</span>
<a class='home-link' href='http://psy-lob-saw.blogspot.co.za/'>Home</a>
</div>
<div class='clear'></div>
<div class='post-feeds'>
<div class='feed-links'>
Subscribe to:
<a class='feed-link' href='http://psy-lob-saw.blogspot.com/feeds/708670203714644669/comments/default' target='_blank' type='application/atom+xml'>Post Comments (Atom)</a>
</div>
</div>
<script type='text/javascript'>
    window.___gcfg = { 'lang': 'en-GB' };
  </script>
</div></div>
</div>
</div>
<div class='column-left-outer'>
<div class='column-left-inner'>
<aside>
</aside>
</div>
</div>
<div class='column-right-outer'>
<div class='column-right-inner'>
<aside>
<div class='sidebar section' id='sidebar-right-1'><div class='widget BlogSearch' data-version='1' id='BlogSearch1'>
<h2 class='title'>Search This Blog</h2>
<div class='widget-content'>
<div id='BlogSearch1_form'>
<form action='http://psy-lob-saw.blogspot.co.za/search' class='gsc-search-box' target='_top'>
<table cellpadding='0' cellspacing='0' class='gsc-search-box'>
<tbody>
<tr>
<td class='gsc-input'>
<input autocomplete='off' class='gsc-input' name='q' size='10' title='search' type='text' value=''/>
</td>
<td class='gsc-search-button'>
<input class='gsc-search-button' title='search' type='submit' value='Search'/>
</td>
</tr>
</tbody>
</table>
</form>
</div>
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=5171098727364395242&widgetType=BlogSearch&widgetId=BlogSearch1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("BlogSearch1"));' target='configBlogSearch1' title='Edit'>
<img alt='' height='18' src='https://resources.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div><div class='widget PageList' data-version='1' id='PageList1'>
<h2>Pages</h2>
<div class='widget-content'>
<ul>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/p/lock-free-queues.html'>Lock Free Queues Index</a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/p/jmh-related-posts.html'>JMH Resources</a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/p/talks.html'>Talks</a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/p/about.html'>About</a>
</li>
</ul>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=5171098727364395242&widgetType=PageList&widgetId=PageList1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("PageList1"));' target='configPageList1' title='Edit'>
<img alt='' height='18' src='https://resources.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div>
</div><div class='widget PopularPosts' data-version='1' id='PopularPosts1'>
<h2>Popular Posts</h2>
<div class='widget-content popular-posts'>
<ul>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/2016/02/why-most-sampling-java-profilers-are.html'>Why (Most) Sampling Java Profilers Are Fucking Terrible </a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/2015/12/safepoints.html'>Safepoints: Meaning, Side Effects and Overheads</a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/2013/04/lock-free-ipc-queue.html'>135 Million messages a second between processes in pure Java</a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/2017/02/flamegraphs-intro-fire-for-everyone.html'>Java Flame Graphs Introduction: Fire For Everyone!</a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/2013/05/know-thy-java-object-memory-layout.html'>Know Thy Java Object Memory Layout</a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/2014/12/the-escape-of-arraylistiterator.html'>The Escape of ArrayList.iterator() </a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/2015/02/hdrhistogram-better-latency-capture.html'>HdrHistogram: A better latency capture method</a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/2014/10/the-jvm-write-barrier-card-marking.html'>The JVM Write Barrier - Card Marking</a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/2012/12/atomiclazyset-is-performance-win-for.html'>Atomic*.lazySet is a performance win for single writers</a>
</li>
<li>
<a href='http://psy-lob-saw.blogspot.co.za/2013/04/writing-java-micro-benchmarks-with-jmh.html'>Writing Java Micro Benchmarks with JMH: Juicy</a>
</li>
</ul>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=5171098727364395242&widgetType=PopularPosts&widgetId=PopularPosts1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("PopularPosts1"));' target='configPopularPosts1' title='Edit'>
<img alt='' height='18' src='https://resources.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div>
</div><div class='widget BlogArchive' data-version='1' id='BlogArchive1'>
<h2>Blog Archive</h2>
<div class='widget-content'>
<div id='ArchiveList'>
<div id='BlogArchive1_ArchiveList'>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2017/'>
2017
</a>
<span class='post-count' dir='ltr'>(1)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2017/02/'>
February
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate expanded'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy toggle-open'>

        &#9660;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2016/'>
2016
</a>
<span class='post-count' dir='ltr'>(9)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2016/12/'>
December
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2016/10/'>
October
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2016/07/'>
July
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2016/06/'>
June
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2016/03/'>
March
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate expanded'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy toggle-open'>

        &#9660;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2016/02/'>
February
</a>
<span class='post-count' dir='ltr'>(2)</span>
<ul class='posts'>
<li><a href='http://psy-lob-saw.blogspot.co.za/2016/02/why-most-sampling-java-profilers-are.html'>Why (Most) Sampling Java Profilers Are Fucking Ter...</a></li>
<li><a href='http://psy-lob-saw.blogspot.co.za/2016/02/wait-for-it-counteduncounted-loops.html'>Wait For It: Counted/Uncounted loops, Safepoints a...</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2015/'>
2015
</a>
<span class='post-count' dir='ltr'>(11)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2015/12/'>
December
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2015/10/'>
October
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2015/08/'>
August
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2015/07/'>
July
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2015/05/'>
May
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2015/04/'>
April
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2015/03/'>
March
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2015/02/'>
February
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2015/01/'>
January
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2014/'>
2014
</a>
<span class='post-count' dir='ltr'>(18)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2014/12/'>
December
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2014/11/'>
November
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2014/10/'>
October
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2014/08/'>
August
</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2014/07/'>
July
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2014/06/'>
June
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2014/04/'>
April
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2014/03/'>
March
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2014/02/'>
February
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2014/01/'>
January
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/'>
2013
</a>
<span class='post-count' dir='ltr'>(23)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/12/'>
December
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/11/'>
November
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/10/'>
October
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/09/'>
September
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/08/'>
August
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/07/'>
July
</a>
<span class='post-count' dir='ltr'>(5)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/06/'>
June
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/05/'>
May
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/04/'>
April
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/03/'>
March
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/02/'>
February
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2013/01/'>
January
</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2012/'>
2012
</a>
<span class='post-count' dir='ltr'>(6)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2012/12/'>
December
</a>
<span class='post-count' dir='ltr'>(4)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='http://psy-lob-saw.blogspot.co.za/2012/10/'>
October
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=5171098727364395242&widgetType=BlogArchive&widgetId=BlogArchive1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("BlogArchive1"));' target='configBlogArchive1' title='Edit'>
<img alt='' height='18' src='https://resources.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div>
</div><div class='widget Profile' data-version='1' id='Profile1'>
<h2>About Me</h2>
<div class='widget-content'>
<a href='https://plus.google.com/107269247235043577368'><img alt='My photo' class='profile-img' height='80' src='//lh6.googleusercontent.com/-LPZyIqgbGeQ/AAAAAAAAAAI/AAAAAAAAADA/C0pnXZHCmqU/s80-c/photo.jpg' width='80'/></a>
<dl class='profile-datablock'>
<dt class='profile-data'>
<a class='profile-name-link g-profile' href='https://plus.google.com/107269247235043577368' rel='author' style='background-image: url(//www.google.com/images/icons/ui/gprofile_button-16.png);'>
Nitsan Wakart
</a>
<br/>
<div class='g-follow' data-annotation='bubble' data-height='20' data-href='https://plus.google.com/107269247235043577368'></div>
</dt>
</dl>
<a class='profile-link' href='https://plus.google.com/107269247235043577368' rel='author'>View my complete profile</a>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=5171098727364395242&widgetType=Profile&widgetId=Profile1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("Profile1"));' target='configProfile1' title='Edit'>
<img alt='' height='18' src='https://resources.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div>
</div><div class='widget Subscribe' data-version='1' id='Subscribe1'>
<div style='white-space:nowrap'>
<h2 class='title'>Subscribe To</h2>
<div class='widget-content'>
<div class='subscribe-wrapper subscribe-type-POST'>
<div class='subscribe expanded subscribe-type-POST' id='SW_READER_LIST_Subscribe1POST' style='display:none;'>
<div class='top'>
<span class='inner' onclick='return(_SW_toggleReaderList(event, "Subscribe1POST"));'>
<img class='subscribe-dropdown-arrow' src='https://img2.blogblog.com/img/widgets/arrow_dropdown.gif'/>
<img align='absmiddle' alt='' border='0' class='feed-icon' src='https://img1.blogblog.com/img/icon_feed12.png'/>
Posts
</span>
<div class='feed-reader-links'>
<a class='feed-reader-link' href='https://www.netvibes.com/subscribe.php?url=http%3A%2F%2Fpsy-lob-saw.blogspot.com%2Ffeeds%2Fposts%2Fdefault' target='_blank'>
<img src='https://img1.blogblog.com/img/widgets/subscribe-netvibes.png'/>
</a>
<a class='feed-reader-link' href='https://add.my.yahoo.com/content?url=http%3A%2F%2Fpsy-lob-saw.blogspot.com%2Ffeeds%2Fposts%2Fdefault' target='_blank'>
<img src='https://img1.blogblog.com/img/widgets/subscribe-yahoo.png'/>
</a>
<a class='feed-reader-link' href='http://psy-lob-saw.blogspot.com/feeds/posts/default' target='_blank'>
<img align='absmiddle' class='feed-icon' src='https://img1.blogblog.com/img/icon_feed12.png'/>
                  Atom
                </a>
</div>
</div>
<div class='bottom'></div>
</div>
<div class='subscribe' id='SW_READER_LIST_CLOSED_Subscribe1POST' onclick='return(_SW_toggleReaderList(event, "Subscribe1POST"));'>
<div class='top'>
<span class='inner'>
<img class='subscribe-dropdown-arrow' src='https://img2.blogblog.com/img/widgets/arrow_dropdown.gif'/>
<span onclick='return(_SW_toggleReaderList(event, "Subscribe1POST"));'>
<img align='absmiddle' alt='' border='0' class='feed-icon' src='https://img1.blogblog.com/img/icon_feed12.png'/>
Posts
</span>
</span>
</div>
<div class='bottom'></div>
</div>
</div>
<div class='subscribe-wrapper subscribe-type-PER_POST'>
<div class='subscribe expanded subscribe-type-PER_POST' id='SW_READER_LIST_Subscribe1PER_POST' style='display:none;'>
<div class='top'>
<span class='inner' onclick='return(_SW_toggleReaderList(event, "Subscribe1PER_POST"));'>
<img class='subscribe-dropdown-arrow' src='https://img2.blogblog.com/img/widgets/arrow_dropdown.gif'/>
<img align='absmiddle' alt='' border='0' class='feed-icon' src='https://img1.blogblog.com/img/icon_feed12.png'/>
Comments
</span>
<div class='feed-reader-links'>
<a class='feed-reader-link' href='https://www.netvibes.com/subscribe.php?url=http%3A%2F%2Fpsy-lob-saw.blogspot.com%2Ffeeds%2F708670203714644669%2Fcomments%2Fdefault' target='_blank'>
<img src='https://img1.blogblog.com/img/widgets/subscribe-netvibes.png'/>
</a>
<a class='feed-reader-link' href='https://add.my.yahoo.com/content?url=http%3A%2F%2Fpsy-lob-saw.blogspot.com%2Ffeeds%2F708670203714644669%2Fcomments%2Fdefault' target='_blank'>
<img src='https://img1.blogblog.com/img/widgets/subscribe-yahoo.png'/>
</a>
<a class='feed-reader-link' href='http://psy-lob-saw.blogspot.com/feeds/708670203714644669/comments/default' target='_blank'>
<img align='absmiddle' class='feed-icon' src='https://img1.blogblog.com/img/icon_feed12.png'/>
                  Atom
                </a>
</div>
</div>
<div class='bottom'></div>
</div>
<div class='subscribe' id='SW_READER_LIST_CLOSED_Subscribe1PER_POST' onclick='return(_SW_toggleReaderList(event, "Subscribe1PER_POST"));'>
<div class='top'>
<span class='inner'>
<img class='subscribe-dropdown-arrow' src='https://img2.blogblog.com/img/widgets/arrow_dropdown.gif'/>
<span onclick='return(_SW_toggleReaderList(event, "Subscribe1PER_POST"));'>
<img align='absmiddle' alt='' border='0' class='feed-icon' src='https://img1.blogblog.com/img/icon_feed12.png'/>
Comments
</span>
</span>
</div>
<div class='bottom'></div>
</div>
</div>
<div style='clear:both'></div>
</div>
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=5171098727364395242&widgetType=Subscribe&widgetId=Subscribe1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("Subscribe1"));' target='configSubscribe1' title='Edit'>
<img alt='' height='18' src='https://resources.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div><div class='widget PlusFollowers' data-version='1' id='PlusFollowers1'>
<h2 class='title'>Google+ Followers</h2>
<div class='widget-content'>
<div class='g-plus' data-action='followers' data-height='300' data-href='https://plus.google.com/107269247235043577368' data-source='blogger:blog:followers' data-theme='DARK' data-width='190'></div>
<script type='text/javascript'>
        window.___gcfg = {'lang': 'en_GB'};
      </script>
</div>
</div></div>
</aside>
</div>
</div>
</div>
<div style='clear: both'></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class='main-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<footer>
<div class='footer-outer'>
<div class='footer-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left footer-fauxborder-left'>
<div class='fauxborder-right footer-fauxborder-right'></div>
<div class='region-inner footer-inner'>
<div class='foot no-items section' id='footer-1'></div>
<table border='0' cellpadding='0' cellspacing='0' class='section-columns columns-3'>
<tbody>
<tr>
<td class='first columns-cell'>
<div class='foot no-items section' id='footer-2-1'></div>
</td>
<td class='columns-cell'>
<div class='foot no-items section' id='footer-2-2'></div>
</td>
<td class='columns-cell'>
<div class='foot no-items section' id='footer-2-3'></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class='foot section' id='footer-3'><div class='widget Attribution' data-version='1' id='Attribution1'>
<div class='widget-content' style='text-align: center;'>
Simple theme. Powered by <a href='https://www.blogger.com' target='_blank'>Blogger</a>.
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=5171098727364395242&widgetType=Attribution&widgetId=Attribution1&action=editWidget&sectionId=footer-3' onclick='return _WidgetManager._PopupConfig(document.getElementById("Attribution1"));' target='configAttribution1' title='Edit'>
<img alt='' height='18' src='https://resources.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div></div>
</div>
</div>
<div class='footer-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class='content-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<script type='text/javascript'>
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>
<script type='text/javascript'>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-37666778-1', 'auto', 'blogger');
        ga('blogger.send', 'pageview');
      </script>
<script src='https://apis.google.com/js/plusone.js' type='text/javascript'></script>

<script type="text/javascript" src="https://www.blogger.com/static/v1/widgets/4187781524-widgets.js"></script>
<script type='text/javascript'>
window['__wavt'] = 'AOuZoY6sHev9RSxc7oEaF_OUdRUKVPmTsQ:1514368763433';_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d5171098727364395242','//psy-lob-saw.blogspot.co.za/2016/02/why-most-sampling-java-profilers-are.html','5171098727364395242');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '5171098727364395242', 'title': 'Psychosomatic, Lobotomy, Saw', 'url': 'http://psy-lob-saw.blogspot.co.za/2016/02/why-most-sampling-java-profilers-are.html', 'canonicalUrl': 'http://psy-lob-saw.blogspot.com/2016/02/why-most-sampling-java-profilers-are.html', 'homepageUrl': 'http://psy-lob-saw.blogspot.co.za/', 'searchUrl': 'http://psy-lob-saw.blogspot.co.za/search', 'canonicalHomepageUrl': 'http://psy-lob-saw.blogspot.com/', 'blogspotFaviconUrl': 'http://psy-lob-saw.blogspot.co.za/favicon.ico', 'bloggerUrl': 'https://www.blogger.com', 'hasCustomDomain': false, 'httpsEnabled': true, 'enabledCommentProfileImages': true, 'gPlusViewType': 'FILTERED_POSTMOD', 'adultContent': false, 'analyticsAccountNumber': 'UA-37666778-1', 'encoding': 'UTF-8', 'locale': 'en-GB', 'localeUnderscoreDelimited': 'en_gb', 'languageDirection': 'ltr', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Psychosomatic, Lobotomy, Saw - Atom\x22 href\x3d\x22http://psy-lob-saw.blogspot.com/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22Psychosomatic, Lobotomy, Saw - RSS\x22 href\x3d\x22http://psy-lob-saw.blogspot.com/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Psychosomatic, Lobotomy, Saw - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/5171098727364395242/posts/default\x22 /\x3e\n\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Psychosomatic, Lobotomy, Saw - Atom\x22 href\x3d\x22http://psy-lob-saw.blogspot.com/feeds/708670203714644669/comments/default\x22 /\x3e\n', 'meTag': '', 'openIdOpTag': '', 'googleProfileUrl': 'https://plus.google.com/107269247235043577368', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'adsenseHasAds': false, 'ieCssRetrofitLinks': '\x3c!--[if IE]\x3e\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22https://www.blogger.com/static/v1/jsbin/771816573-ieretrofit.js\x22\x3e\x3c/script\x3e\n\x3c![endif]--\x3e', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/6d1bf5a02c627f3d', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sharing': {'platforms': [{'name': 'Get link', 'key': 'link', 'shareMessage': 'Get link', 'target': ''}, {'name': 'Facebook', 'key': 'facebook', 'shareMessage': 'Share to Facebook', 'target': 'facebook'}, {'name': 'BlogThis!', 'key': 'blogThis', 'shareMessage': 'BlogThis!', 'target': 'blog'}, {'name': 'Twitter', 'key': 'twitter', 'shareMessage': 'Share to Twitter', 'target': 'twitter'}, {'name': 'Pinterest', 'key': 'pinterest', 'shareMessage': 'Share to Pinterest', 'target': 'pinterest'}, {'name': 'Google+', 'key': 'googlePlus', 'shareMessage': 'Share to Google+', 'target': 'googleplus'}, {'name': 'Email', 'key': 'email', 'shareMessage': 'Email', 'target': 'email'}], 'googlePlusShareButtonWidth': 300, 'googlePlusBootstrap': '\x3cscript type\x3d\x22text/javascript\x22\x3ewindow.___gcfg \x3d {\x27lang\x27: \x27en_GB\x27};\x3c/script\x3e'}, 'hasCustomJumpLinkMessage': false, 'jumpLinkMessage': 'Read more', 'pageType': 'item', 'postId': '708670203714644669', 'postImageThumbnailUrl': 'https://2.bp.blogspot.com/-CUPihCsd5uY/UTe_no1yEmI/AAAAAAAAAGg/6f_UkUvj_tY/s72-c/sad-panda.jpg', 'postImageUrl': 'https://2.bp.blogspot.com/-CUPihCsd5uY/UTe_no1yEmI/AAAAAAAAAGg/6f_UkUvj_tY/s1600/sad-panda.jpg', 'pageName': 'Why (Most) Sampling Java Profilers Are Fucking Terrible ', 'pageTitle': 'Psychosomatic, Lobotomy, Saw: Why (Most) Sampling Java Profilers Are Fucking Terrible ', 'metaDescription': ''}}, {'name': 'features', 'data': {'lazy_images': 'false', 'unsupported_browser_message': 'false', 'sharing_get_link_dialog': 'true', 'sharing_native': 'false'}}, {'name': 'messages', 'data': {'edit': 'Edit', 'linkCopiedToClipboard': 'Link copied to clipboard', 'ok': 'Ok', 'postLink': 'Post link'}}, {'name': 'template', 'data': {'name': 'custom', 'localizedName': 'Custom', 'isResponsive': false, 'isAlternateRendering': false, 'isCustom': true, 'variant': 'bold', 'variantId': 'bold'}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'isMobile': false, 'title': 'Why (Most) Sampling Java Profilers Are Fucking Terrible ', 'description': 'Blog on Java, Performance, Concurrency, NIO, Unsafe, Low latency, Programming, Software, Philosophy', 'featuredImage': 'https://2.bp.blogspot.com/-CUPihCsd5uY/UTe_no1yEmI/AAAAAAAAAGg/6f_UkUvj_tY/s1600/sad-panda.jpg', 'url': 'http://psy-lob-saw.blogspot.co.za/2016/02/why-most-sampling-java-profilers-are.html', 'type': 'item', 'isSingleItem': true, 'isMultipleItems': false, 'isError': false, 'isPage': false, 'isPost': true, 'isHomepage': false, 'isArchive': false, 'isLabelSearch': false, 'postId': 708670203714644669}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', null, document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', null, document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', null, document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'useNgc': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/101999026-lbx__en_gb.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/368954415-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogSearchView', new _WidgetInfo('BlogSearch1', 'sidebar-right-1', null, document.getElementById('BlogSearch1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_PageListView', new _WidgetInfo('PageList1', 'sidebar-right-1', null, document.getElementById('PageList1'), {'title': 'Pages', 'links': [{'isCurrentPage': false, 'href': 'http://psy-lob-saw.blogspot.co.za/p/lock-free-queues.html', 'id': '965323808017462839', 'title': 'Lock Free Queues Index'}, {'isCurrentPage': false, 'href': 'http://psy-lob-saw.blogspot.co.za/p/jmh-related-posts.html', 'id': '4459888590190791177', 'title': 'JMH Resources'}, {'isCurrentPage': false, 'href': 'http://psy-lob-saw.blogspot.co.za/p/talks.html', 'id': '2635032725986214571', 'title': 'Talks'}, {'isCurrentPage': false, 'href': 'http://psy-lob-saw.blogspot.co.za/p/about.html', 'id': '8848338426403950310', 'title': 'About'}], 'mobile': false}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_PopularPostsView', new _WidgetInfo('PopularPosts1', 'sidebar-right-1', null, document.getElementById('PopularPosts1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', null, document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading\x26hellip;'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_ProfileView', new _WidgetInfo('Profile1', 'sidebar-right-1', null, document.getElementById('Profile1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_SubscribeView', new _WidgetInfo('Subscribe1', 'sidebar-right-1', null, document.getElementById('Subscribe1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_PlusFollowersView', new _WidgetInfo('PlusFollowers1', 'sidebar-right-1', null, document.getElementById('PlusFollowers1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', null, document.getElementById('Attribution1'), {}, 'displayModeFull'));
</script>
</body>
</html>